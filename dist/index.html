<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>Pomodoro Timer</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,200,0,0" />
  <link rel="stylesheet" href="./style.css">
  <link rel="icon" type="image/x-icon" href="static/logo.png">

  <link href="https://unpkg.com/@pqina/flip/dist/flip.min.css" rel="stylesheet">
  <script src="https://unpkg.com/@pqina/flip/dist/flip.min.js"></script>


  <!-- google fonts  -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Exo+2:ital,wght@0,100..900;1,100..900&family=Roboto+Slab:wght@100..900&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">


  <style>
    .tick {
      font-size: 15rem;
      font-weight: bold;
    }
    .time-label{
      display: flex;
      /* background-color: green; */
      font-size: 5rem;
      padding: 15px;
    }

    .time-label div{
      flex: auto;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    a{
      display: none;
    }
  </style>
</head>
<body>

  <div class="roboto-regular">
    <div class="tick" data-value="" data-did-init="setupFlip">
      <div data-repeat="true">
        <span data-view="flip"></span>
      </div>
    </div>
    <div class="time-label">
      <div>Minutes</div>
      <div>Seconds</div>
    </div>
  </div>
<script>

const focusTime = 25;
const restTime = 5;

let focus = true;
let currentTime = focusTime*60;

function hTime(timeSeconds){
  let minute = Math.floor(timeSeconds/60);
  let second = timeSeconds%60;

  let finalTime = '';
  if(minute <10){
    finalTime += '0'+minute.toString();
  } else{
    finalTime += minute.toString();
  }

  // finalTime += ':';

  if(second <10){
    finalTime += '0'+second.toString();
  } else{
    finalTime += second.toString();
  }
  return finalTime;
}

function setupFlip(tick) {

 Tick.helper.interval(function() {
  if(currentTime == 0){
    focus = !focus;
    if(focus){
      currentTime = focusTime*60+1;
    }else{
      currentTime = restTime*60+1;
    }
  }

  currentTime--;
  let time = hTime(currentTime);
  tick.value = time;
 }, 1000);

}
</script>
</body>
</html>
